(this["webpackJsonpstock-ticker"]=this["webpackJsonpstock-ticker"]||[]).push([[0],{1:function(e,t,c){e.exports={stockDetails:"StockDetails_stockDetails__2LclW",heading2:"StockDetails_heading2__1eTTz",content:"StockDetails_content__i4T_8",closeButton:"StockDetails_closeButton__3SdED",positive:"StockDetails_positive__2BujQ",negative:"StockDetails_negative__22W0K",dataTable:"StockDetails_dataTable__30zmb",term:"StockDetails_term__1JmTX",detail:"StockDetails_detail__1Or2j",stockPrice:"StockDetails_stockPrice__3uJxa",priceDisplay:"StockDetails_priceDisplay__3xTLt",priceIcon:"StockDetails_priceIcon__3bpbL",iconNegative:"StockDetails_iconNegative__9sdU6"}},17:function(e,t,c){},20:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c.n(a),s=c(10),i=c.n(s),r=(c(17),c(12)),l=c(3),o=c(4),j=c.n(o),d=c(0),b=function(e){var t=e.onChange,c=e.value;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("label",{htmlFor:"select_stock",className:j.a.label,children:"Enter up to three stocks to compare the current stock prices"}),Object(d.jsx)("input",{className:j.a.input,list:"",id:"select_stock",name:"select_stock",autoComplete:"off",onChange:function(e){return t(e.target.value)},value:c})]})},u=function(e){var t=e.children;return t?Object(d.jsx)("datalist",{id:"search_results",className:j.a.list,children:t}):null},m=function(e){var t=e.name,c=e.symbol,a=e.onClick;return Object(d.jsxs)("option",{className:j.a.listItem,onClick:a,children:[c," - ",t]})};var h=c(8),O=c.n(h),x=c(11);function p(e,t){var c=Object(a.useState)(!1),n=Object(l.a)(c,2),s=n[0],i=n[1],r=Object(a.useState)(null),o=Object(l.a)(r,2),j=o[0],d=o[1],b=Object(a.useState)(!0),u=Object(l.a)(b,2),m=u[0],h=u[1],p=Object(a.useState)(null),_=Object(l.a)(p,2),v=_[0],k=_[1];return Object(a.useEffect)((function(){if(!t)return k(null);(function(){var c=Object(x.a)(O.a.mark((function c(){var a,n,s;return O.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return d(null),h(!1),i(!0),c.prev=3,a="".concat("https://stock-ticker-server.herokuapp.com/api","/").concat(e,"/").concat(t),c.next=7,fetch(a);case 7:return n=c.sent,c.next=10,n.json();case 10:if(s=c.sent,200!==n.status){c.next=17;break}k(s),i(!1),h(!0),c.next=18;break;case 17:throw new Error("Something went wrong");case 18:c.next=26;break;case 20:c.prev=20,c.t0=c.catch(3),k(null),d(c.t0.message),i(!1),h(!0);case 26:case"end":return c.stop()}}),c,null,[[3,20]])})));return function(){return c.apply(this,arguments)}})()()}),[e,t]),[v,j,{isLoading:s,isIdle:m,hasError:Boolean(j)}]}var _=function(e){var t,c=e.onSelectStock,n=Object(a.useState)(""),s=Object(l.a)(n,2),i=s[0],r=s[1],o=p("search",function(e,t){var c=Object(a.useState)(e),n=Object(l.a)(c,2),s=n[0],i=n[1];return Object(a.useEffect)((function(){var c=setTimeout((function(){i(e)}),t);return function(){clearTimeout(c)}}),[e,t]),s}(i,250)),h=Object(l.a)(o,3),O=h[0],x=h[2],_=x.isLoading,v=x.hasError;return Object(d.jsxs)("div",{className:j.a.base,children:[Object(d.jsx)(b,{value:i,onChange:function(e){return r(e)}}),_&&(!O||O.length<1)&&Object(d.jsx)("div",{children:"Loading..."}),v&&Object(d.jsx)("div",{children:"Something went wrong. Please wait a few moments and try again"}),i&&Object(d.jsx)(u,{children:(t=O||null,t?t.map((function(e){var t=e.name,a=e.symbol,n=e.id;return Object(d.jsx)(m,{name:t,symbol:a,onClick:function(){r(""),c({name:t,symbol:a,id:n})}},n)})):null)})]})},v=c(1),k=c.n(v),f=function(e){var t=e.name,c=e.symbol;return Object(d.jsxs)("hgroup",{children:[Object(d.jsx)("h2",{className:k.a.heading2,children:t}),Object(d.jsx)("h3",{children:c})]})},S=function(e){var t=e.onRetry;return Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:"Something went wrong. You can try again in a few moments."}),t&&Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:t,children:"Retry?"})})]})},g=function(e){var t=p("quote",e.symbol),c=Object(l.a)(t,3),a=c[0],n=c[2],s=n.isLoading,i=n.hasError,r=!s&&!i&&Boolean(a),o=a||{},j=o.openPrice,b=o.highPrice,u=o.lowPrice,m=o.price,h=o.changePercent,O=h&&!h.includes("-");return Object(d.jsxs)(d.Fragment,{children:[s&&Object(d.jsx)("div",{children:"Loading..."}),i&&Object(d.jsx)(S,{}),r&&Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:k.a.priceDisplay,children:[Object(d.jsxs)("div",{className:k.a.priceDetails,children:[Object(d.jsx)("div",{className:k.a.stockPrice,children:m}),Object(d.jsx)("div",{className:O?k.a.positive:k.a.negative,children:h})]}),Object(d.jsx)("div",{className:k.a.priceVisual,children:Object(d.jsx)("i",{className:"".concat(k.a.priceIcon," ").concat(!O&&k.a.iconNegative),children:"\ud83d\ude80"})})]}),Object(d.jsx)("h3",{children:"Stats"}),Object(d.jsxs)("dl",{className:k.a.dataTable,children:[Object(d.jsx)("dt",{className:k.a.term,children:"Open:"}),Object(d.jsx)("dd",{className:k.a.detail,children:j}),Object(d.jsx)("dt",{className:k.a.term,children:"High:"}),Object(d.jsx)("dd",{className:k.a.detail,children:b}),Object(d.jsx)("dt",{className:k.a.term,children:"Low:"}),Object(d.jsx)("dd",{className:k.a.detail,children:u})]})]})]})},N=function(e){var t=p("overview",e.symbol),c=Object(l.a)(t,3),a=c[0],n=c[2],s=n.isLoading,i=n.hasError,r=!s&&!i&&Boolean(a),o=a||{},j=o.sector,b=o.industry,u=o.marketCap,m=o.EPS,h=o.profitMargin;return Object(d.jsxs)(d.Fragment,{children:[s&&Object(d.jsx)("div",{children:"Loading..."}),i&&Object(d.jsx)(S,{}),r&&Object(d.jsxs)("div",{className:k.a.overview,children:[Object(d.jsx)("h3",{children:"Overview"}),Object(d.jsxs)("dl",{className:k.a.dataTable,children:[Object(d.jsx)("dt",{className:k.a.term,children:"Sector:"}),Object(d.jsx)("dd",{className:k.a.detail,children:j}),Object(d.jsx)("dt",{className:k.a.term,children:"Industry:"}),Object(d.jsx)("dd",{className:k.a.detail,children:b}),Object(d.jsx)("dt",{className:k.a.term,children:"Market Cap:"}),Object(d.jsx)("dd",{className:k.a.detail,children:u}),Object(d.jsx)("dt",{className:k.a.term,children:"EPS:"}),Object(d.jsx)("dd",{className:k.a.detail,children:m}),Object(d.jsx)("dt",{className:k.a.term,children:"Market Cap:"}),Object(d.jsx)("dd",{className:k.a.detail,children:h})]})]})]})},y=function(e){var t=e.symbol,c=e.name,n=e.onRemoveStock,s=Object(a.useState)(!1),i=Object(l.a)(s,2),r=i[0],o=i[1];return Object(d.jsxs)("section",{className:k.a.stockDetails,children:[Object(d.jsxs)("div",{className:k.a.content,children:[Object(d.jsx)(f,{name:c,symbol:t}),Object(d.jsx)(g,{symbol:t}),!r&&Object(d.jsx)("button",{onClick:function(){return o(!0)},children:"Load additional details"}),r&&Object(d.jsx)(N,{symbol:t})]}),Object(d.jsx)("div",{className:k.a.closeButton,children:Object(d.jsx)("button",{onClick:n,children:Object(d.jsx)("i",{children:"\u274c"})})})]})},D=c(9),w=c.n(D);var L=function(){var e,t=Object(a.useState)([]),c=Object(l.a)(t,2),n=c[0],s=c[1],i=n.length<3;return Object(d.jsxs)("main",{className:w.a.app,children:[Object(d.jsx)("h1",{children:"Stock Comparison"}),i&&Object(d.jsx)(_,{onSelectStock:function(e){s((function(t){return[].concat(Object(r.a)(t),[e])}))}}),Object(d.jsx)("section",{className:w.a.comparisonList,children:(e=n,e.map((function(e){var t=e.symbol,c=e.name,a=e.id;return Object(d.jsx)(y,{symbol:t,name:c,onRemoveStock:function(){return function(e){s((function(t){return t.filter((function(t){var c=t.id;return e!==c}))}))}(a)}},a)})))})]})},C=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,21)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),s(e),i(e)}))};i.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(L,{})}),document.getElementById("root")),C()},4:function(e,t,c){e.exports={base:"StockSelector_base__1_271",label:"StockSelector_label__3LFAs",input:"StockSelector_input__2UPH7",list:"StockSelector_list__3rpJJ",listItem:"StockSelector_listItem__gFkVp"}},9:function(e,t,c){e.exports={app:"App_app__1kX79",comparisonList:"App_comparisonList__1VHjV"}}},[[20,1,2]]]);
//# sourceMappingURL=main.514d310d.chunk.js.map